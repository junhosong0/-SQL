# 스토어드 프로시저 사용 방법
스토어드 프로시저를 사용하면 MySQL 안에서 다른 프로그래밍 언어처럼 프로그램 로직의 코딩이 가능.
- 쿼리문의 집합으로 볼 수 있음.
- 어떤 동작을 일괄 처리하기 위한 용도로도 사용.
- 일반적인 쿼리를 반복하는 것보다는 스토어드 프로시저로 묶어놓고, 필요할 때마다 간단히 호출 가능.
- 스토어드 프로시저도 데이터베이스의 개체 중 한가지. 즉, 테이블처럼 각 데이터베이스 내부에 저장됨.

**스토어드 프로시저 생성 기본형식**
- 가장 많이 사용되는 필수적인 형식만 간단하게 표현 한 것.
- 완전한 형식은 복잡함.

```sql
# 스토어드 프로시저 생성
DELIMITER $$ -- 1

CREATE PROCEDURE 스토어드_프로시저_이름(IN 또는 OUT 매개변수) -- 2
BEGIN

        이 부분에 SQL 프로그래밍 코드를 작성

END $$ -- 1
DELIMITER ;
```
1: 필수 항목으로 스토어드 프로시저를 묶어줌. $$는 $한개만 사용해도 되지만 명확성을 위해 통상 2개를 씀. ##, %%, && 등으로 바꿔도 됨.
2: 이름을 정해줌. 가능하면 이름만으로 스토어드 프로시저라는 것을 알 수 있도록 표현. IN 또는 OUT 매개변수는 입출력 매개변수임.


**스토어드 프로시저 실행**
```sql
CALL 스토어드_프로시저_이름();
```

### 스토어드 프로시저의 생성

```sql
USE market_db;
DROP PROCEDURE IF EXISTS user_proc;

# 스토어드 프로시저 생성 시작
DELIMITER $$
CREATE PROCEDURE user_proc() -- 매개변수가 괄호안에 들어가는데 없어도 됨
BEGIN
        SELECT * FROM member; --BEGIN과 END 사이에 필요한 SQL문을 써주면 됨
END $$
DELIMITER;

CALL user_proc(); -- 스토어드 프로시저 실행
```

![20240304_130246](https://github.com/junhosong0/MySQL/assets/117610783/61d3fd44-8b1d-43ae-940d-0c6d71126381)


### 스토어드 프로시저의 삭제

```sql
DROP PROCEDURE user_proc;
```










